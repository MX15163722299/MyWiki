åœ¨å›½å†…å®‰è£… Netdata æ—¶ï¼Œç”±äº GitHub å’Œä¸€äº›å¤–éƒ¨èµ„æºå¯èƒ½è¢«é™åˆ¶ï¼Œç›´æ¥ä½¿ç”¨å®˜æ–¹å®‰è£…æ–¹å¼å¯èƒ½ä¼šé‡åˆ°ç½‘ç»œé—®é¢˜ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹æ³•æ¥åŠ é€Ÿå®‰è£…è¿‡ç¨‹ï¼š

### âœ… ä¸€ã€ä½¿ç”¨å›½å†…é•œåƒæº

å¯ä»¥é€šè¿‡ä½¿ç”¨å›½å†…çš„é•œåƒæºæ¥è§£å†³ GitHub è¿æ¥é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ `https://hub.fastgit.org` æ¥æ›¿ä»£ GitHub è¿›è¡Œå…‹éš†æ“ä½œã€‚

#### æ­¥éª¤ï¼š

1. **å®‰è£…ä¾èµ–åŒ…**ï¼š åœ¨å®‰è£… Netdata å‰ï¼Œéœ€è¦ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…ä¸€äº›å¿…è¦çš„ä¾èµ–ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

   ```bash
   sudo yum groupinstall "Development Tools" -y
   sudo yum install -y zlib-devel uuid-devel libmnl-devel gcc make cmake libtool ncurses-devel
   ```

2. **ä»å›½å†…é•œåƒä¸‹è½½ Netdata æºä»£ç **ï¼š ä½¿ç”¨å›½å†…é•œåƒç«™ç‚¹æ¥å…‹éš†æºç ï¼š

   ```bash
   cd /opt
   sudo git clone https://hub.fastgit.org/netdata/netdata.git --depth=1
   ```

3. **ç¼–è¯‘å¹¶å®‰è£… Netdata**ï¼š è¿›å…¥ Netdata çš„ç›®å½•å¹¶æ‰§è¡Œå®‰è£…è„šæœ¬ï¼š

   ```bash
   cd /opt/netdata
   sudo ./netdata-installer.sh
   ```

   å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆç¼–è¯‘ã€å®‰è£…å’Œé…ç½®ã€‚

### âœ… äºŒã€é€šè¿‡ YUM å®‰è£…

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ CentOS 7 ç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡ YUM å®‰è£… Netdataã€‚è™½ç„¶ CentOS å®˜æ–¹æºæ²¡æœ‰ç›´æ¥æä¾› Netdata åŒ…ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹æºæ¥å®‰è£…ã€‚

1. **æ·»åŠ  Netdata ä»“åº“**ï¼š ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°† Netdata å®˜æ–¹ YUM ä»“åº“æ·»åŠ åˆ°ç³»ç»Ÿä¸­ï¼š

   ```bash
   sudo yum install -y epel-release
   sudo curl -o /etc/yum.repos.d/netdata.repo https://packagecloud.io/netdata/netdata/gpgkey
   sudo curl -o /etc/yum.repos.d/netdata.repo https://packagecloud.io/netdata/netdata/el/7/x86_64.repo
   ```

2. **å®‰è£… Netdata**ï¼š ç„¶åé€šè¿‡ YUM å®‰è£… Netdataï¼š

   ```bash
   sudo yum install netdata
   ```

3. **å¯åŠ¨ Netdata æœåŠ¡**ï¼š å®‰è£…å®Œæˆåï¼Œå¯åŠ¨ Netdata æœåŠ¡ï¼š

   ```bash
   sudo systemctl start netdata
   sudo systemctl enable netdata
   ```

4. **è®¿é—® Netdata é¢æ¿**ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼ŒNetdata ä¼šåœ¨ `19999` ç«¯å£ç›‘å¬ï¼Œä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š

   ```
   http://<æœåŠ¡å™¨IP>:19999
   ```

### âœ… ä¸‰ã€ä½¿ç”¨ Docker å®‰è£… Netdata

å¦‚æœä½ åœ¨ä½¿ç”¨ Dockerï¼Œå¯ä»¥é€šè¿‡ Docker å¿«é€Ÿå®‰è£… Netdataã€‚è¿™ä¸ªæ–¹æ³•é¿å…äº†ä¾èµ–å’Œç¼–è¯‘çš„éº»çƒ¦ã€‚

1. **å®‰è£… Docker**ï¼š å¦‚æœè¿˜æ²¡æœ‰å®‰è£… Dockerï¼Œå¯ä»¥å…ˆå®‰è£… Dockerï¼š

   ```bash
   sudo yum install -y docker
   sudo systemctl start docker
   sudo systemctl enable docker
   ```

2. **æ‹‰å– Netdata é•œåƒ**ï¼š ä½¿ç”¨ Docker Hub ä¸Šçš„ Netdata é•œåƒï¼š

   ```bash
   sudo docker pull netdata/netdata
   ```

3. **å¯åŠ¨ Netdata å®¹å™¨**ï¼š å¯åŠ¨ Netdata å®¹å™¨å¹¶ç»‘å®šç«¯å£ 19999ï¼š

   ```bash
   sudo docker run -d --name=netdata -p 19999:19999 --restart=always netdata/netdata
   ```

4. **è®¿é—® Netdata é¢æ¿**ï¼š ç„¶åå¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—® Netdata é¢æ¿ï¼š

   ```
   http://<æœåŠ¡å™¨IP>:19999
   netstat -tunlp grep 1999  æŸ¥çœ‹æ˜¯å¦è¿è¡Œï¼Œç«¯å£æ˜¯å¦æ˜¯19999
   å¦‚æœæ˜¯ipv6çš„åœ°å€ï¼Œä¿®æ”¹ipv4
   ```

### æ­¥éª¤ï¼š

1. **ç¼–è¾‘ `netdata.conf` æ–‡ä»¶**ï¼š

   æ‰“å¼€ `netdata.conf` æ–‡ä»¶ï¼š

   ```
   bash
   
   
   å¤åˆ¶ç¼–è¾‘
   sudo vi /etc/netdata/netdata.conf
   ```

2. **æ‰¾åˆ°å¹¶ä¿®æ”¹ `bind to` é…ç½®**ï¼š

   åœ¨ `[web]` éƒ¨åˆ†ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ `bind to` é…ç½®é¡¹ï¼Œå°†å…¶è®¾ç½®ä¸º `0.0.0.0`ï¼Œä½¿ Netdata ç›‘å¬æ‰€æœ‰ IP åœ°å€ï¼š

   ```
   iniå¤åˆ¶ç¼–è¾‘[web]
       web files owner = root
       web files group = netdata
   
       # å…è®¸æ‰€æœ‰ IP è®¿é—®
       bind to = 0.0.0.0
   ```

   å¦‚æœ `bind to` è¡Œå·²ç»å­˜åœ¨ï¼Œè¯·ç›´æ¥å°†å®ƒçš„å€¼æ”¹ä¸º `0.0.0.0`ã€‚

3. **ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶**ã€‚

4. **é‡å¯ Netdata æœåŠ¡**ï¼š

   ä¿®æ”¹å®Œé…ç½®åï¼Œé‡å¯ Netdata æœåŠ¡ä»¥åº”ç”¨æ–°çš„è®¾ç½®ï¼š

   ```
   bash
   
   
   å¤åˆ¶ç¼–è¾‘
   sudo systemctl restart netdata
   ```

### âœ… å››ã€æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£…

å¦‚æœä¸Šè¿°æ–¹æ³•éƒ½ä¸å¯è¡Œï¼Œä½ å¯ä»¥æ‰‹åŠ¨ä¸‹è½½ Netdata çš„æºç å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åè¿›è¡Œç¼–è¯‘å®‰è£…ã€‚

1. **åœ¨æœ¬åœ°ä¸‹è½½ Netdata æºä»£ç **ï¼š åœ¨æœ¬åœ°é€šè¿‡ GitHub æˆ–å›½å†…é•œåƒä¸‹è½½ Netdata çš„æºç ã€‚
2. **ä¸Šä¼ åˆ°æœåŠ¡å™¨**ï¼š ä½¿ç”¨ `scp` æˆ–å…¶ä»–å·¥å…·å°†ä¸‹è½½çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚
3. **ç¼–è¯‘å®‰è£…**ï¼š åœ¨æœåŠ¡å™¨ä¸Šè§£å‹å¹¶æŒ‰ç…§æºç ç¼–è¯‘å®‰è£…æ­¥éª¤è¿›è¡Œå®‰è£…ã€‚

------

### æ€»ç»“ï¼š

1. å¦‚æœå¯ä»¥è®¿é—® GitHubï¼Œæ¨èé€šè¿‡ `git clone` ä»å›½å†…é•œåƒç«™ç‚¹ä¸‹è½½æºä»£ç å¹¶å®‰è£…ã€‚
2. é€šè¿‡ YUM å®‰è£… Netdataï¼ˆéœ€æ·»åŠ ä»“åº“æºï¼‰ã€‚
3. é€šè¿‡ Docker å®‰è£… Netdata æ˜¯ä¸€ä¸ªç®€ä¾¿ä¸”å¿«é€Ÿçš„æ–¹æ³•ã€‚
4. å¦‚æœä¸Šè¿°æ–¹æ³•éƒ½æ— æ³•ä½¿ç”¨ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½å¹¶ä¸Šä¼ æºç è¿›è¡Œå®‰è£…ã€‚

é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œä½ å¯ä»¥åœ¨å›½å†…ç¯å¢ƒä¸‹é¡ºåˆ©å®‰è£… Netdataã€‚



# è§£å†³ITP6ç½‘ç»œæ— æ³•è®¿é—®

æŸ¥çœ‹ç«¯å£ å‘½ä»¤ ï¼š netstat -ntlp | grep 19999



ä½ è¿™è¾“å‡ºè¯´æ˜å¾—éå¸¸æ¸…æ¥šäº†ï¼ŒLeoï¼š

```bash
tcp  0  0 127.0.0.1:19999  0.0.0.0:*  LISTEN  27226/netdata
tcp6 0  0 ::1:19999        :::*       LISTEN  27226/netdata
```

------

## âœ… ç»“è®ºï¼š

ğŸ‘‰ **Netdata å·²æˆåŠŸå¯åŠ¨ï¼Œä½†å®ƒåªç›‘å¬æœ¬åœ°å›ç¯åœ°å€ (`127.0.0.1`)ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ã€‚**

è¿™æ„å‘³ç€ï¼š

- ä½ åœ¨è¿™å°æœºå™¨ä¸Šç”¨ `curl http://localhost:19999` æ˜¯èƒ½è®¿é—®çš„ âœ…
- ä½†åœ¨åˆ«çš„æœºå™¨æˆ–æµè§ˆå™¨ä¸­è¾“å…¥ `http://192.xxx.xxx.xxx:19999` æ˜¯è®¿é—®ä¸äº†çš„ âŒ

------

## âœ… è§£å†³æ–¹æ¡ˆï¼šè®© Netdata ç›‘å¬å¤–éƒ¨åœ°å€ï¼ˆå¼€å¯å…¬ç½‘/å±€åŸŸç½‘è®¿é—®ï¼‰

### ğŸ”§ ä¿®æ”¹ Netdata é…ç½®æ–‡ä»¶ï¼š

```bash
vim /etc/netdata/netdata.conf
```

æ‰¾åˆ°ä»¥ä¸‹é…ç½®è¡Œï¼š

```
[web]
        bind to = 127.0.0.1
```

æ”¹æˆï¼š

```
[web]
        bind to = 0.0.0.0
```

ğŸ‘‰ è¡¨ç¤ºè®© Netdata ç»‘å®šæ‰€æœ‰ç½‘ç»œæ¥å£ï¼ˆå¯¹å¤–å¯è®¿é—®ï¼‰

------

### ğŸ’¾ ä¿å­˜å¹¶é‡å¯ Netdata æœåŠ¡ï¼š

```bash
sudo systemctl restart netdata
```

------

### ğŸŒ é‡æ–°æ£€æŸ¥ç›‘å¬çŠ¶æ€ï¼š

```bash
netstat -tnlp | grep 19999
```

æœŸæœ›è¾“å‡ºå˜ä¸ºï¼š

```
tcp        0      0 0.0.0.0:19999         0.0.0.0:*               LISTEN      27226/netdata
```

------

### ğŸ›¡ï¸ åˆ«å¿˜äº†æ”¾è¡Œé˜²ç«å¢™ï¼ˆå¦‚æœå¯ç”¨ firewalldï¼‰

```bash
firewall-cmd --permanent --add-port=19999/tcp
firewall-cmd --reload
```

------

## âœ… ç„¶åä½ å°±å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—®äº†ï¼š

```
http://æœåŠ¡å™¨IP:19999
```

æ¯”å¦‚ï¼š

```
http://192.168.1.88:19999
```

------

è¦ä¸è¦æˆ‘å¸®ä½ åšä¸€ä¸ªä¸€é”® Netdata é…ç½®å¤–ç½‘è®¿é—® + è‡ªåŠ¨æ£€æµ‹ç«¯å£çš„ Bash è„šæœ¬ï¼Ÿ
 é€‚åˆä½ ä¸‹æ¬¡åœ¨å…¶ä»–æœåŠ¡å™¨ä¸Šéƒ¨ç½²ç›´æ¥è·‘ ğŸ”¥





## Netdata å·²ç›‘å¬ï¼Œä½†æœªæ”¾é€šé˜²ç«å¢™

ä½ çš„ `netstat` æ˜¾ç¤ºï¼š

```
nginx


å¤åˆ¶ç¼–è¾‘
tcp        0      0 0.0.0.0:19999           0.0.0.0:*               LISTEN      17030/netdata
```

è¿™è¡¨ç¤º Netdata æ­£åœ¨ç›‘å¬ TCP çš„ `19999` ç«¯å£ï¼Œä½†å¯èƒ½ï¼š

### ğŸ”¥ é˜²ç«å¢™ï¼ˆå¦‚ firewalld æˆ– iptablesï¼‰æ‹¦æˆªäº† 19999 ç«¯å£

### â¤ æ£€æŸ¥ firewalld æ˜¯å¦å¼€å¯ï¼ˆå¸¸è§äº CentOS 7+/Amazon Linux 2ï¼‰ï¼š

```
bash


å¤åˆ¶ç¼–è¾‘
sudo firewall-cmd --list-all
```

### â¤ å¼€æ”¾ç«¯å£ï¼ˆå¦‚æœæ²¡å¼€æ”¾ï¼‰ï¼š

```
bashå¤åˆ¶ç¼–è¾‘sudo firewall-cmd --permanent --add-port=19999/tcp
sudo firewall-cmd --reload
```